function Promise(t,s){"use strict";if(this.OnSuccess=[],this.OnError=[],this.Result=[],this.Status=0,s)setTimeout(function(){try{t(this.resolve.bind(this),this.reject.bind(this))}catch(s){console.error(s),this.reject(s)}}.bind(this),5);else try{t(this.resolve.bind(this),this.reject.bind(this))}catch(e){console.error(e),this.reject(e)}}Promise.prototype.then=function(t,s){"use strict";return new Promise(function(e){if("function"==typeof t){var i=function(){var s=t.apply(null,arguments);s instanceof Promise?s.then(e):e.apply(null,arguments)};1===this.Status?i.apply(null,this.Result):0===this.Status&&this.OnSuccess.push(i)}"function"==typeof s&&this["catch"](s)}.bind(this))},Promise.prototype["catch"]=function(t){"use strict";"function"==typeof t&&(2===this.Status?t.apply(null,this.Result):0===this.Status&&this.OnError.push(t))},Promise.prototype.resolve=function(){"use strict";this.Status=1;var t=arguments;this.Result=t,this.OnSuccess.forEach(function(s){s.apply(null,t)})},Promise.prototype.reject=function(){"use strict";var t=arguments;this.Result=t,this.Status=2,this.OnError.forEach(function(s){s.apply(null,t)})},Promise.resolve=function(t){"use strict";return new Promise(function(s){s(t)})},Promise.reject=function(t){"use strict";return new Promise(function(s,e){e(t)})},module.exports=Promise;