"use strict";var _prototypeProperties=function(t,e,i){e&&Object.defineProperties(t,e),i&&Object.defineProperties(t.prototype,i)},_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Promise=function(){function t(e){if(_classCallCheck(this,t),"undefined"===this)throw new Error("No direct access, must be initialized like a class");this.OnSuccess=[],this.OnError=[],this.Result=[],this.Fulfilled=0,"function"==typeof e&&setTimeout(function(){try{e.call(this,this.resolve.bind(this),this.reject.bind(this))}catch(t){if(!this.OnError.length)throw t;this.reject(t)}}.bind(this),0)}return _prototypeProperties(t,{resolve:{value:function(e){return new t(function(t){t(e)})},writable:!0,configurable:!0},reject:{value:function(e){return new t(function(t,i){i(e)})},writable:!0,configurable:!0},all:{value:function(e){return new t(function(i,n){var l=[],r=[],u=!1;e.forEach(function(e){var s;e instanceof t&&(l.push(e),s=l.indexOf(e),r.push(null),e.then(function(t){r[s]=t,l.splice(l.indexOf(e),1),0!==l.length||u||(u=!0,i(r))})["catch"](function(t){u=!0,n(t)}))}),l.length||i()})},writable:!0,configurable:!0}},{then:{value:function(e,i){var n=new t,l=null,r=null;return this.OnError.push(n.reject.bind(n)),"function"==typeof e&&(l=function(t){n.resolve(e(t))},0===this.Fulfilled?this.OnSuccess.push(l):1===this.Fulfilled&&l(this.Result)),"function"==typeof i&&(r=function(t){i(t),n.reject(t)},0===this.Fulfilled?this.OnError.push(r):2===this.Fulfilled&&r(this.Result)),n},writable:!0,configurable:!0},"catch":{value:function(t){return"function"==typeof t&&(2===this.Fulfilled?t.apply(null,this.Result):0===this.Fulfilled&&this.OnError.push(t)),this},writable:!0,configurable:!0},resolve:{value:function(){if(0===this.Fulfilled){this.Fulfilled=1;var t=arguments;return this.Result=t,this.OnSuccess.forEach(function(e){e.apply(null,t)}),this}},writable:!0,configurable:!0},reject:{value:function(){if(0===this.Fulfilled){var t=arguments;return this.Result=t,this.Fulfilled=2,this.OnError.forEach(function(e){e.apply(null,t)}),this}},writable:!0,configurable:!0}}),t}();module.exports=Promise;