function Promise(t,s){"use strict";if("undefined"===this)throw new Error("No direct access, must be initialized like a class");if(this.OnSuccess=[],this.OnError=[],this.Result=[],this.Status=0,"function"==typeof t)if(s)setTimeout(function(){try{t(this.resolve.bind(this),this.reject.bind(this))}catch(s){console.error(s),this.reject(s)}}.bind(this),5);else try{t(this.resolve.bind(this),this.reject.bind(this))}catch(i){console.error(i),this.reject(i)}}Promise.prototype.then=function(t,s){"use strict";return new Promise(function(i){if("function"==typeof t){var e=function(){var s=t.apply(null,arguments);s instanceof Promise?s.then(i):i.apply(null,arguments)};1===this.Status?e.apply(null,this.Result):0===this.Status&&this.OnSuccess.push(e)}"function"==typeof s&&this["catch"](s)}.bind(this))},Promise.prototype["catch"]=function(t){"use strict";"function"==typeof t&&(2===this.Status?t.apply(null,this.Result):0===this.Status&&this.OnError.push(t))},Promise.prototype.resolve=function(){"use strict";this.Status=1;var t=arguments;this.Result=t,this.OnSuccess.forEach(function(s){s.apply(null,t)})},Promise.prototype.reject=function(){"use strict";var t=arguments;this.Result=t,this.Status=2,this.OnError.forEach(function(s){s.apply(null,t)})},Promise.resolve=function(t){"use strict";return new Promise(function(s){s(t)})},Promise.reject=function(t){"use strict";return new Promise(function(s,i){i(t)})},Promise.all=function(t){"use strict";return new Promise(function(s,i){var e=[],n=[],r=!1;t.forEach(function(t){var o;t instanceof Promise&&(e.push(t),o=e.indexOf(t),n.push(null),t.then(function(i){n[o]=i,e.splice(e.indexOf(t),1),0!==e.length||r||(r=!0,s(n))})["catch"](function(t){r||(r=!0,i(t))}))}),e.length||s()})},module.exports=Promise;